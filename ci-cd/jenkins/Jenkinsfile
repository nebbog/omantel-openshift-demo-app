pipeline {
 agent {
    kubernetes {
      cloud 'openshift'
      yaml """
        apiVersion: v1
        kind: Pod
        spec:
          serviceAccountName: jenkins-agent
          securityContext:
            runAsUser: 1003760001
          containers:
          - name: builder
            image: nebbog/builder:1.3.0
            command:
            - cat
            tty: true
       """
    }
  }

  stages {
 
   stage('Build Java project - demo-app') {
     steps{
       script {
         sh 'cd ci-cd;./build.sh'
       }
     }
   }
   
 }
}
